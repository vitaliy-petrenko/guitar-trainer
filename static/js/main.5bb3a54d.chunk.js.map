{"version":3,"sources":["constants.js","audioCore.js","components/Note/Note.js","components/Note/NoteContainer.js","components/Guitar/Guitar.js","components/Piano/Piano.js","components/Tuner/Tuner.js","components/Tuner/TunerContainer.js","actions/audio.js","components/Sidebar/SelectKeyContainer.js","components/Sidebar/SelectKey.js","components/Sidebar/SelectScaleContainer.js","components/Sidebar/SelectScale.js","components/Sidebar/StartRecording.js","components/Sidebar/Sidebar.js","containers/SidebarContainer.js","theme.js","components/App.js","containers/AppContainer.js","serviceWorker.js","reducers/audio.js","reducers/guitar.js","reducers/piano.js","reducers/root.js","store.js","index.js"],"names":["SCALES","ALL","Array","fill","MAJOR","HARMONIC_MAJOR","MELODIC_MAJOR","MAJOR_PENTATONIC","MINOR","HARMONIC_MINOR","MELODIC_MINOR","MINOR_PENTATONIC","SCALES_NAMES","Object","keys","reduce","res","key","ACTION_TYPES","NOTES","middleA","semitone","bufferSize","_initGetUserMedia","window","AudioContext","webkitAudioContext","alert","undefined","navigator","mediaDevices","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","Promise","resolve","reject","call","audio","then","stream","audioContext","createMediaStreamSource","connect","analyser","scriptProcessor","destination","addEventListener","event","frequency","pitchDetector","do","inputBuffer","getChannelData","note","getNote","noteData","name","value","cents","getCents","octave","Math","floor","indexOf","emit","catch","error","message","this","createAnalyser","createScriptProcessor","Aubio","aubio","Pitch","sampleRate","startRecord","log","round","pow","getStandardFrequency","oscillator","createOscillator","start","stop","EventEmitter","generateScale","scaleName","scaleKey","pattern","scale","i","length","nextNoteIndex","push","isSimilar","isActive","isInScale","isKey","classNames","toLowerCase","className","join","playingNote","selectedScale","isMicActive","includes","Note","String","children","Cell","Zero","frets","startNotes","strings","cells","startNote","startNoteIndex","fretsWithZero","j","newNoteIndex","Key","octaves","keysCount","noteIndex","Arrow","state","switchMic","payload","type","setPlayingNote","selectScale","selectScaleKey","dispatch","onSelect","f","options","map","MenuItem","FormControl","fullWidth","InputLabel","htmlFor","Select","inputProps","id","onChange","target","entries","StartRecording","Button","variant","color","onClick","aria-label","role","useStyles","makeStyles","theme","paper","padding","spacing","palette","text","secondary","Heading","Typography","gutterBottom","selectedScaleName","selectedScaleKey","actions","bindActionCreators","audioActions","classes","Paper","audioService","init","Grid","container","item","xs","createMuiTheme","App","on","notesData","data","setter","props","guitarStringsStartNotes","pianoStartNote","ThemeProvider","SidebarContainer","React","Component","Boolean","location","hostname","match","DEFAULT_DATA","DEFAULT_START_NOTES","DEFAULT_START_NOTE","combineReducers","action","newName","newKey","middlewares","logger","thunk","enhancer","applyMiddleware","createStore","reducers","render","ReactDOM","store","AppContainer","document","getElementById","subscribe","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5bb3a54d.chunk.js","sourcesContent":["export const SCALES = {\n  ALL: Array(12).fill(1),\n  MAJOR: [2, 2, 1, 2, 2, 2, 1],\n  HARMONIC_MAJOR: [2, 2, 1, 2, 1, 3, 1],\n  MELODIC_MAJOR: [2, 2, 1, 2, 1, 2, 2],\n  MAJOR_PENTATONIC: [2, 2, 3, 2, 3],\n  MINOR: [2, 1, 2, 2, 1, 2, 2],\n  HARMONIC_MINOR: [2, 1, 2, 2, 1, 3, 1],\n  MELODIC_MINOR: [2, 1, 2, 2, 2, 2, 1],\n  MINOR_PENTATONIC: [3, 2, 2, 3, 2],\n  // MIXOLYDIAN: [],\n  // LYDIAN: [],\n};\n\nexport const SCALES_NAMES = Object.keys(SCALES).reduce((res, key) => {\n  res[key] = key;\n  return res;\n}, {});\n\nexport const ACTION_TYPES = {\n  SET_PLAYING_NOTE: 'SET_PLAYING_NOTE',\n  SET_MIC_LISTEN: 'SET_MIC_LISTEN',\n\n  SET_GUITAR_STRING_START_NOTE: 'SET_GUITAR_STRING_START_NOTE',\n  SET_PIANO_START_NOTE: 'SET_PIANO_START_NOTE',\n\n  SET_SCALE: 'SET_SCALE',\n  SET_SCALE_KEY: 'SET_SCALE_KEY',\n};\n\n","import EventEmitter from 'wolfy87-eventemitter';\nimport { SCALES } from './constants';\n\nexport const NOTES = ['C', 'Câ™¯', 'D', 'Dâ™¯', 'E', 'F', 'Fâ™¯', 'G', 'Gâ™¯', 'A', 'Aâ™¯', 'B'];\n\nclass AudioService extends EventEmitter {\n  middleA = 440;\n  semitone = 69;\n  bufferSize = 8192;\n\n  constructor() {\n    super();\n\n    this._initGetUserMedia();\n  }\n\n  _initGetUserMedia() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    if (!window.AudioContext) {\n      return alert('AudioContext not supported');\n    }\n\n    // Older browsers might not implement mediaDevices at all, so we set an empty object first\n    if (navigator.mediaDevices === undefined) {\n      navigator.mediaDevices = {};\n    }\n\n    // Some browsers partially implement mediaDevices. We can't just assign an object\n    // with getUserMedia as it would overwrite existing properties.\n    // Here, we will just add the getUserMedia property if it's missing.\n    if (navigator.mediaDevices.getUserMedia === undefined) {\n      navigator.mediaDevices.getUserMedia = function (constraints) {\n        // First get ahold of the legacy getUserMedia, if present\n        const getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\n        // Some browsers just don't implement it - return a rejected promise with an error\n        // to keep a consistent interface\n        if (!getUserMedia) {\n          alert('getUserMedia is not implemented in this browser');\n        }\n\n        // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n        return new Promise(function (resolve, reject) {\n          getUserMedia.call(navigator, constraints, resolve, reject);\n        })\n      }\n    }\n  }\n\n  startRecord() {\n    navigator.mediaDevices\n      .getUserMedia({ audio: true })\n      .then(stream => {\n        this.audioContext.createMediaStreamSource(stream).connect(this.analyser);\n        this.analyser.connect(this.scriptProcessor);\n        this.scriptProcessor.connect(this.audioContext.destination);\n\n        this.scriptProcessor.addEventListener('audioprocess', event => {\n\n          const frequency = this.pitchDetector.do(event.inputBuffer.getChannelData(0));\n\n          if (frequency) {\n            const\n              note = this.getNote(frequency),\n              noteData = {\n                name: NOTES[note % 12],\n                value: note,\n                cents: this.getCents(frequency, note),\n                octave: Math.floor(note / 12) - 1,\n                frequency: frequency,\n              };\n\n            if (\n              noteData.octave < 2 ||\n              noteData.octave > 6 ||\n              (noteData.octave === 6 && NOTES.indexOf(noteData.name) > NOTES.indexOf('A'))\n            ) return;\n\n            if (note >= 30) {\n              this.emit('notesDetected', [noteData]);\n            }\n          }\n        });\n      })\n      .catch(function (error) {\n        alert(error.name + ': ' + error.message);\n      });\n  }\n\n  init() {\n    this.audioContext = new window.AudioContext();\n    this.analyser = this.audioContext.createAnalyser();\n    this.scriptProcessor = this.audioContext.createScriptProcessor(this.bufferSize);\n\n    window.Aubio().then(aubio => {\n      this.pitchDetector = new aubio.Pitch('default', this.bufferSize, 1, this.audioContext.sampleRate);\n      this.startRecord();\n    });\n  }\n\n  /**\n   * get musical note from frequency\n   *\n   * @param {number} frequency\n   * @returns {number}\n   */\n  getNote(frequency) {\n    const note = 12 * (Math.log(frequency / this.middleA) / Math.log(2));\n    return Math.round(note) + this.semitone;\n  }\n\n  /**\n   * get the musical note's standard frequency\n   *\n   * @param note\n   * @returns {number}\n   */\n  getStandardFrequency(note) {\n    return this.middleA * Math.pow(2, (note - this.semitone) / 12);\n  }\n\n  /**\n   * get cents difference between given frequency and musical note's standard frequency\n   *\n   * @param {number} frequency\n   * @param {number} note\n   * @returns {number}\n   */\n  getCents(frequency, note) {\n    return Math.floor((1200 * Math.log(frequency / this.getStandardFrequency(note))) / Math.log(2))\n  }\n\n  /**\n   * play the musical note\n   *\n   * @param {number} frequency\n   */\n  play(frequency) {\n    if (!this.oscillator) {\n      this.oscillator = this.audioContext.createOscillator();\n      this.oscillator.connect(this.audioContext.destination);\n      this.oscillator.start();\n    }\n\n    this.oscillator.frequency.value = frequency;\n  }\n\n  stop() {\n    this.oscillator.stop();\n    this.oscillator = null;\n  }\n}\n\nexport default new AudioService();\n\n\nexport const generateScale = (scaleName, scaleKey) => {\n  const pattern = SCALES[scaleName];\n\n  if (!pattern) return null;\n\n  const scale = [scaleKey];\n\n  for (let i = 1; i < pattern.length; i++) {\n    const nextNoteIndex = (NOTES.indexOf(scale[i - 1]) + pattern[i - 1]) % NOTES.length;\n    scale.push(NOTES[nextNoteIndex]);\n  }\n\n  return scale;\n};\n","import React from 'react';\nimport './Note.scss';\n\nexport default ({ name = 'C#', octave = 1, isSimilar = false, isActive = true, isInScale = true, isKey = false }) => {\n  const classNames = ['note', `note--${name[0].toLowerCase()}`];\n\n  if (isSimilar) {\n    classNames.push('is-similar');\n  }\n\n  if (isActive) {\n    classNames.push('is-active');\n  }\n\n  if (!isInScale) {\n    classNames.push('is-disabled');\n  }\n\n  if (isKey) {\n    classNames.push('is-key');\n  }\n\n  return (\n    <div className={classNames.join(' ')}>{name}{octave}</div>\n  )\n};\n","import { connect } from 'react-redux';\nimport Note from './Note';\n\nconst mapStateToProps = ({ playingNote, selectedScale, isMicActive }, { name, octave }) => {\n  const\n    isSimilar = isMicActive && playingNote && playingNote.name === name,\n    isActive = isSimilar && playingNote.octave === octave,\n    isInScale = selectedScale.scale.includes(name),\n    isKey = selectedScale.key === name;\n\n  return { isSimilar, isActive, isInScale, isKey };\n};\n\n\nexport default connect(mapStateToProps)(Note);\n","import React from 'react';\nimport './Guitar.scss';\nimport Note from '../Note/NoteContainer';\nimport { NOTES } from '../../audioCore';\n\nconst String = ({ children }) => <div className='guitar__string'>{children}</div>;\n\nconst Cell = ({ note }) => (\n  <div className='guitar__cell'>\n    <div className=\"guitar__note\">\n      <Note {...note}/>\n    </div>\n  </div>\n);\n\nconst Zero = ({ note }) => (\n  <div className=\"guitar__zero\">\n    <div className=\"guitar__note\">\n      <Note {...note}/>\n    </div>\n  </div>\n);\n\nexport default ({ frets, startNotes }) => {\n  const strings = [];\n\n  for (let i = 0; i < 6; i++) {\n    const\n      cells = [],\n      startNote = startNotes[i],\n      startNoteIndex = NOTES.indexOf(startNote.name),\n      fretsWithZero = frets + 1;\n\n    let octave = startNote.octave;\n\n    for (let j = 0; j < fretsWithZero; j++) {\n      const newNoteIndex = (j + startNoteIndex) % NOTES.length;\n\n      const\n        note = {\n          name: NOTES[newNoteIndex],\n          octave: newNoteIndex === 0 ? ++octave : octave,\n        };\n\n      if (j === 0) {\n        cells.push(<Zero note={note} key={j}/>);\n      } else {\n        cells.push(<Cell note={note} key={j}/>);\n      }\n    }\n\n    strings.push(<String key={i}>{cells}</String>);\n  }\n\n  return (\n    <div className=\"guitar\">\n      {strings}\n    </div>\n  )\n}\n","import React from 'react';\nimport './Piano.scss';\nimport { NOTES } from '../../audioCore';\nimport Note from '../Note/NoteContainer';\n\nconst Key = ({ name = 'C#', octave = 2 }) => {\n  const note = {\n    name,\n    octave,\n  };\n\n  return (\n    <div className=\"piano__key\">\n      <div className=\"piano__note\">\n        <Note {...note}/>\n      </div>\n    </div>\n  )\n};\n\nexport default ({ octaves = 3, startNote }) => {\n  const\n    keys = [],\n    keysCount = 12 * octaves;\n\n  for (let i = 0, note = { ...startNote }; i < keysCount; i++) {\n    const noteIndex = NOTES.indexOf(note.name);\n\n    keys.push(<Key key={i} name={note.name} octave={note.octave}/>);\n\n    if (!~noteIndex) continue;\n\n    const newNoteIndex = (noteIndex + 1) % NOTES.length;\n\n    if (newNoteIndex === 0) note.octave++;\n    note.name = NOTES[newNoteIndex];\n  }\n\n  return <div className=\"piano\">{keys}</div>;\n};\n","import React from 'react';\nimport './Tuner.scss';\nimport Note from '../Note/Note'\n\nconst REASONABLE_DELTA = 10;\n\nconst Arrow = ({ isActive }) => {\n  const classNames = ['tuner__arrow'];\n\n  if (isActive) {\n    classNames.push('is-active');\n  }\n\n  return (\n    <div className={classNames.join(' ')}/>\n  )\n};\n\nexport default ({ playingNote }) => {\n  return (\n    <div className='tuner'>\n      <div className=\"tuner__col\">\n        <Arrow isActive={playingNote.cents < -REASONABLE_DELTA}/>\n      </div>\n      <div className=\"tuner__col tuner__note\">\n        <Note\n          isActive={playingNote.cents >= -REASONABLE_DELTA && playingNote.cents <= REASONABLE_DELTA}\n          name={playingNote.name} note={playingNote}\n          octave={playingNote.octave}\n        />\n      </div>\n      <div className=\"tuner__col\">\n        <Arrow isActive={playingNote.cents > REASONABLE_DELTA}/>\n      </div>\n    </div>\n  )\n};\n","import { connect } from 'react-redux';\nimport Tuner from './Tuner';\n\nconst mapStateToProps = state => {\n  const {\n    playingNote,\n  } = state;\n\n  return {\n    playingNote,\n  }\n};\n\n\nexport default connect(mapStateToProps)(Tuner);\n","import { ACTION_TYPES } from '../constants';\n\nexport const switchMic = payload => ({\n  type: ACTION_TYPES.SET_MIC_LISTEN,\n  payload,\n});\n\nexport const setPlayingNote = payload => ({\n  type: ACTION_TYPES.SET_PLAYING_NOTE,\n  payload,\n});\n\nexport const selectScale = payload => ({\n  type: ACTION_TYPES.SET_SCALE,\n  payload,\n});\n\nexport const selectScaleKey = payload => ({\n  type: ACTION_TYPES.SET_SCALE_KEY,\n  payload,\n});\n","import { connect } from 'react-redux';\nimport SelectKey from './SelectKey';\nimport { selectScaleKey } from '../../actions/audio';\n\nconst mapStateToProps = ({ selectedScale }) => ({ selectedScale });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSelect: payload => dispatch(selectScaleKey(payload)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectKey);\n","import { NOTES } from '../../audioCore';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport React from 'react';\n\nexport default ({ selectedScale, onSelect = f => f }) => {\n  const\n    options = NOTES.map(note => <MenuItem key={note} value={note}>{note}</MenuItem>),\n    handleChange = event => onSelect(event.target.value);\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel htmlFor=\"sidebar-select-scale-key\">\n        Scale Key\n      </InputLabel>\n      <Select\n        value={selectedScale.key}\n        inputProps={{\n          id: 'sidebar-select-scale-key',\n        }}\n        onChange={handleChange}\n      >\n        {options}\n      </Select>\n    </FormControl>\n  )\n};\n","import { connect } from 'react-redux';\nimport SelectScale from './SelectScale';\nimport { selectScale } from '../../actions/audio';\n\nconst mapStateToProps = ({ selectedScale }) => ({ selectedScale });\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSelect: payload => dispatch(selectScale(payload)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectScale);\n","import { SCALES_NAMES } from '../../constants';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport React from 'react';\n\nexport default ({ selectedScale, onSelect = f => f }) => {\n  const\n    options = Object.entries(SCALES_NAMES).map(([key, name]) => <MenuItem key={key} value={key}>{name}</MenuItem>),\n    handleChange = event => onSelect(event.target.value);\n\n  return (\n    <FormControl fullWidth>\n      <InputLabel htmlFor=\"sidebar-select-scale\">\n        Scale\n      </InputLabel>\n      <Select\n        value={selectedScale.name}\n        inputProps={{\n          id: 'sidebar-select-scale',\n        }}\n        onChange={handleChange}\n      >\n        {options}\n      </Select>\n    </FormControl>\n  );\n};\n","import Button from '@material-ui/core/Button';\nimport React from 'react';\n\nexport const StartRecording = ({ start = f => f }) => (\n  <Button fullWidth variant='contained' color='secondary' onClick={start}>\n    <span aria-label='microphone' role='img'>ðŸŽ¤</span>\n    Enable Recording\n  </Button>\n);\n","import React from 'react';\nimport Tuner from '../Tuner/TunerContainer';\nimport './Sidebar.scss';\nimport audioService from '../../audioCore';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core';\nimport SelectKey from './SelectKeyContainer';\nimport SelectScale from './SelectScaleContainer';\nimport { StartRecording } from './StartRecording';\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst Heading = ({ children }) => (\n  <Typography variant=\"h6\" gutterBottom>\n    {children}\n  </Typography>\n);\n\nexport default ({ actions, isMicActive }) => {\n  const\n    { switchMic = f => f } = actions,\n    initAudio = () => {\n      switchMic(true);\n      audioService.init();\n    },\n    classes = useStyles();\n\n  return (\n    <div className='sidebar'>\n      <div className=\"sidebar__in\">\n\n        <div className=\"sidebar__item\">\n          <Paper className={classes.paper}>\n            <Heading>\n              Mini Tuner\n            </Heading>\n            {!isMicActive ? (\n              <StartRecording start={initAudio}/>\n            ) : (\n              <Tuner/>\n            )}\n          </Paper>\n        </div>\n\n        <div className=\"sidebar__item\">\n          <Paper className={classes.paper}>\n            <Heading>\n              Scale Settings\n            </Heading>\n\n            <Grid container spacing={2}>\n              <Grid item xs={12}>\n                <SelectKey/>\n              </Grid>\n              <Grid item xs={12}>\n                <SelectScale/>\n              </Grid>\n            </Grid>\n          </Paper>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { connect } from 'react-redux';\n\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport * as audioActions from '../actions/audio';\nimport { bindActionCreators } from 'redux';\n\nconst mapStateToProps = state => {\n  const {\n    playingNote,\n    isMicActive,\n    selectedScaleName,\n    selectedScaleKey,\n  } = state;\n\n  return {\n    playingNote,\n    isMicActive,\n    selectedScaleName,\n    selectedScaleKey\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({ ...audioActions }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n/**\n * @material-ui theme definitions\n */\n\nexport default createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n","import React from 'react';\nimport './App.scss';\nimport audioService from '../audioCore';\nimport Guitar from './Guitar/Guitar';\nimport Piano from './Piano/Piano';\nimport SidebarContainer from '../containers/SidebarContainer';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from '../theme';\n\nclass App extends React.Component {\n  componentDidMount() {\n    audioService.on('notesDetected', (notesData = []) => {\n      const\n        [data] = notesData,\n        setter = this.props.actions && this.props.actions.setPlayingNote;\n\n      setter && setter(data);\n    });\n  }\n\n  render() {\n    const\n      { guitarStringsStartNotes, pianoStartNote } = this.props;\n\n    return (\n      <div className='application'>\n        <div className=\"application__side\">\n          <ThemeProvider theme={theme}>\n            <SidebarContainer/>\n          </ThemeProvider>\n        </div>\n\n        <div className=\"application__main\">\n          <div className=\"row\">\n            <div className=\"board-container\">\n              <Guitar frets={18} startNotes={guitarStringsStartNotes}/>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"board-container\">\n              <Piano octaves={4} startNote={pianoStartNote}/>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport App from '../components/App';\nimport * as audioActions from '../actions/audio';\nimport { bindActionCreators } from 'redux';\n\nconst mapStateToProps = state => {\n  const {\n    playingNote,\n    isMicActive,\n    guitarStringsStartNotes,\n    pianoStartNote,\n    selectedScale,\n  } = state;\n\n  return {\n    playingNote,\n    isMicActive,\n    guitarStringsStartNotes,\n    pianoStartNote,\n    selectedScale,\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  actions: bindActionCreators({ ...audioActions }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ACTION_TYPES, SCALES_NAMES } from '../constants';\nimport { generateScale, NOTES } from '../audioCore';\n\nconst DEFAULT_DATA = {\n  playingNote: {\n    name: 'C', octave: 3, cents: 0\n  },\n  isMicActive: false,\n\n  scale: {\n    name: SCALES_NAMES.MAJOR,\n    key: NOTES[0],\n  },\n};\n\nDEFAULT_DATA.scale.scale = generateScale(DEFAULT_DATA.scale.name, DEFAULT_DATA.scale.key);\n\nexport const playingNote = (state = DEFAULT_DATA.playingNote, action) => {\n  if (action.type === ACTION_TYPES.SET_PLAYING_NOTE) {\n    return action.payload;\n  }\n\n  return state;\n};\n\nexport const isMicActive = (state = DEFAULT_DATA.isMicActive, action) => {\n  if (action.type === ACTION_TYPES.SET_MIC_LISTEN) {\n    return action.payload;\n  }\n\n  return state;\n};\n\nexport const selectedScale = (state = { ...DEFAULT_DATA.scale }, action) => {\n  switch (action.type) {\n\n    case ACTION_TYPES.SET_SCALE: {\n      const\n        { key } = state,\n        newName = action.payload;\n\n      return {\n        key,\n        name: newName,\n        scale: generateScale(newName, key)\n      };\n    }\n\n    case ACTION_TYPES.SET_SCALE_KEY: {\n      const\n        { name } = state,\n        newKey = action.payload;\n\n      return {\n        key: newKey,\n        name,\n        scale: generateScale(name, newKey)\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n","const DEFAULT_START_NOTES = [\n  { name: 'E', octave: 4 },\n  { name: 'B', octave: 3 },\n  { name: 'G', octave: 3 },\n  { name: 'D', octave: 3 },\n  { name: 'A', octave: 2 },\n  { name: 'E', octave: 2 },\n];\n\nexport const guitarStringsStartNotes = (state = DEFAULT_START_NOTES, action) => {\n  return state;\n};\n","const DEFAULT_START_NOTE = { name: 'C', octave: 2 };\n\nexport const pianoStartNote = (state = DEFAULT_START_NOTE, action) => {\n  return state;\n};\n","import { combineReducers } from 'redux';\nimport { isMicActive, playingNote, selectedScale } from './audio';\nimport { guitarStringsStartNotes } from './guitar';\nimport { pianoStartNote } from './piano';\n\nexport default combineReducers({\n  playingNote,\n  isMicActive,\n  guitarStringsStartNotes,\n  pianoStartNote,\n  selectedScale,\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport reducers from './reducers/root';\n\nconst\n  middlewares = [logger, thunk],\n  isDevMode = process.env.NODE_ENV === 'development';\n\nif (isDevMode) {\n  middlewares.push(logger);\n}\n\nlet enhancer = applyMiddleware(...middlewares);\n\nif (isDevMode) {\n  enhancer = composeWithDevTools(enhancer);\n}\n\nexport default enhancer(createStore)(reducers);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport AppContainer from './containers/AppContainer';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <AppContainer/>\n    </Provider>,\n    document.getElementById('root'));\n};\n\nstore.subscribe(render);\nrender();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}